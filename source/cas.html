<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cas package &mdash; cas-tools 1.0.7 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=46dfa7f5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="cas.accession package" href="cas.accession.html" />
    <link rel="prev" title="cas-tools’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            cas-tools
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">CAS Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">CLI Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">cas-tools’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cas-tools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">cas-tools’s documentation!</a></li>
      <li class="breadcrumb-item active">cas package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/source/cas.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cas-package">
<h1>cas package<a class="headerlink" href="#cas-package" title="Link to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cas.accession.html">cas.accession package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cas.accession.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cas.accession.html#module-cas.accession.base_accession_manager">cas.accession.base_accession_manager module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.accession.html#cas.accession.base_accession_manager.BaseAccessionManager"><code class="docutils literal notranslate"><span class="pre">BaseAccessionManager</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cas.accession.html#cas.accession.base_accession_manager.BaseAccessionManager.generate_accession_id"><code class="docutils literal notranslate"><span class="pre">BaseAccessionManager.generate_accession_id()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.accession.html#module-cas.accession.hash_accession_manager">cas.accession.hash_accession_manager module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.accession.html#cas.accession.hash_accession_manager.HashAccessionManager"><code class="docutils literal notranslate"><span class="pre">HashAccessionManager</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cas.accession.html#cas.accession.hash_accession_manager.HashAccessionManager.generate_accession_id"><code class="docutils literal notranslate"><span class="pre">HashAccessionManager.generate_accession_id()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cas.accession.html#cas.accession.hash_accession_manager.is_hash_accession"><code class="docutils literal notranslate"><span class="pre">is_hash_accession()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.accession.html#module-cas.accession.incremental_accession_manager">cas.accession.incremental_accession_manager module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.accession.html#cas.accession.incremental_accession_manager.IncrementalAccessionManager"><code class="docutils literal notranslate"><span class="pre">IncrementalAccessionManager</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cas.accession.html#cas.accession.incremental_accession_manager.IncrementalAccessionManager.generate_accession_id"><code class="docutils literal notranslate"><span class="pre">IncrementalAccessionManager.generate_accession_id()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.accession.html#module-cas.accession">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cas.ingest.html">cas.ingest package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cas.ingest.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cas.ingest.html#module-cas.ingest.config_validator">cas.ingest.config_validator module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.ingest.html#cas.ingest.config_validator.validate"><code class="docutils literal notranslate"><span class="pre">validate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.ingest.html#cas.ingest.config_validator.validate_file"><code class="docutils literal notranslate"><span class="pre">validate_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.ingest.html#cas.ingest.config_validator.validate_json_str"><code class="docutils literal notranslate"><span class="pre">validate_json_str()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.ingest.html#module-cas.ingest.ingest_user_table">cas.ingest.ingest_user_table module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.ingest.html#cas.ingest.ingest_user_table.ingest_data"><code class="docutils literal notranslate"><span class="pre">ingest_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.ingest.html#cas.ingest.ingest_user_table.ingest_user_data"><code class="docutils literal notranslate"><span class="pre">ingest_user_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.ingest.html#cas.ingest.ingest_user_table.register_parent"><code class="docutils literal notranslate"><span class="pre">register_parent()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.ingest.html#cas.ingest.ingest_user_table.get_annotation"><code class="docutils literal notranslate"><span class="pre">get_annotation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.ingest.html#cas.ingest.ingest_user_table.add_user_annotations"><code class="docutils literal notranslate"><span class="pre">add_user_annotations()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.ingest.html#cas.ingest.ingest_user_table.add_parent_node_names"><code class="docutils literal notranslate"><span class="pre">add_parent_node_names()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.ingest.html#cas.ingest.ingest_user_table.populate_labelsets"><code class="docutils literal notranslate"><span class="pre">populate_labelsets()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.ingest.html#module-cas.ingest">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cas.linkml_ops.html">cas.linkml_ops package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cas.linkml_ops.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cas.linkml_ops.html#module-cas.linkml_ops.data">cas.linkml_ops.data module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.linkml_ops.html#cas.linkml_ops.data.dump_to_rdf"><code class="docutils literal notranslate"><span class="pre">dump_to_rdf()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.linkml_ops.html#cas.linkml_ops.data.get_labelsets"><code class="docutils literal notranslate"><span class="pre">get_labelsets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.linkml_ops.html#cas.linkml_ops.data.add_cl_existential_restrictions"><code class="docutils literal notranslate"><span class="pre">add_cl_existential_restrictions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.linkml_ops.html#cas.linkml_ops.data.validate_data"><code class="docutils literal notranslate"><span class="pre">validate_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.linkml_ops.html#cas.linkml_ops.data.populate_ids"><code class="docutils literal notranslate"><span class="pre">populate_ids()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.linkml_ops.html#cas.linkml_ops.data.remove_empty_strings"><code class="docutils literal notranslate"><span class="pre">remove_empty_strings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.linkml_ops.html#cas.linkml_ops.data.serialise_author_annotation"><code class="docutils literal notranslate"><span class="pre">serialise_author_annotation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.linkml_ops.html#module-cas.linkml_ops.schema">cas.linkml_ops.schema module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.linkml_ops.html#cas.linkml_ops.schema.convert_cas_schema_to_linkml"><code class="docutils literal notranslate"><span class="pre">convert_cas_schema_to_linkml()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.linkml_ops.html#cas.linkml_ops.schema.decorate_linkml_schema"><code class="docutils literal notranslate"><span class="pre">decorate_linkml_schema()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.linkml_ops.html#cas.linkml_ops.schema.expand_schema"><code class="docutils literal notranslate"><span class="pre">expand_schema()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.linkml_ops.html#module-cas.linkml_ops">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cas.matrix_file.html">cas.matrix_file package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cas.matrix_file.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cas.matrix_file.html#module-cas.matrix_file.base_resolver">cas.matrix_file.base_resolver module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.matrix_file.html#cas.matrix_file.base_resolver.BaseMatrixFileResolver"><code class="docutils literal notranslate"><span class="pre">BaseMatrixFileResolver</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cas.matrix_file.html#cas.matrix_file.base_resolver.BaseMatrixFileResolver.resolve_matrix_file"><code class="docutils literal notranslate"><span class="pre">BaseMatrixFileResolver.resolve_matrix_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cas.matrix_file.html#cas.matrix_file.base_resolver.BaseMatrixFileResolver.resolve_matrix_file_path"><code class="docutils literal notranslate"><span class="pre">BaseMatrixFileResolver.resolve_matrix_file_path()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.matrix_file.html#module-cas.matrix_file.cxg_resolver">cas.matrix_file.cxg_resolver module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.matrix_file.html#cas.matrix_file.cxg_resolver.CxGDatasetResolver"><code class="docutils literal notranslate"><span class="pre">CxGDatasetResolver</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cas.matrix_file.html#cas.matrix_file.cxg_resolver.CxGDatasetResolver.resolve_matrix_file"><code class="docutils literal notranslate"><span class="pre">CxGDatasetResolver.resolve_matrix_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cas.matrix_file.html#cas.matrix_file.cxg_resolver.CxGDatasetResolver.resolve_matrix_file_path"><code class="docutils literal notranslate"><span class="pre">CxGDatasetResolver.resolve_matrix_file_path()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cas.matrix_file.html#cas.matrix_file.cxg_resolver.list_cached_datasets"><code class="docutils literal notranslate"><span class="pre">list_cached_datasets()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.matrix_file.html#module-cas.matrix_file.resolver">cas.matrix_file.resolver module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.matrix_file.html#cas.matrix_file.resolver.resolve_matrix_file"><code class="docutils literal notranslate"><span class="pre">resolve_matrix_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.matrix_file.html#cas.matrix_file.resolver.resolve_matrix_file_path"><code class="docutils literal notranslate"><span class="pre">resolve_matrix_file_path()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.matrix_file.html#module-cas.matrix_file">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cas.utils.html">cas.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cas.utils.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cas.utils.html#module-cas.utils.conversion_utils">cas.utils.conversion_utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.calculate_labelset_rank"><code class="docutils literal notranslate"><span class="pre">calculate_labelset_rank()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.calculate_labelset"><code class="docutils literal notranslate"><span class="pre">calculate_labelset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.add_labelsets_to_cas"><code class="docutils literal notranslate"><span class="pre">add_labelsets_to_cas()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.get_cell_ids"><code class="docutils literal notranslate"><span class="pre">get_cell_ids()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.get_cl_annotations_from_anndata"><code class="docutils literal notranslate"><span class="pre">get_cl_annotations_from_anndata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.generate_parent_cell_lookup"><code class="docutils literal notranslate"><span class="pre">generate_parent_cell_lookup()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.update_parent_info"><code class="docutils literal notranslate"><span class="pre">update_parent_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.add_parent_cell_hierarchy"><code class="docutils literal notranslate"><span class="pre">add_parent_cell_hierarchy()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.add_parent_hierarchy_to_annotations"><code class="docutils literal notranslate"><span class="pre">add_parent_hierarchy_to_annotations()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.json_serializer"><code class="docutils literal notranslate"><span class="pre">json_serializer()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.get_authors_from_doi"><code class="docutils literal notranslate"><span class="pre">get_authors_from_doi()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.reformat_json"><code class="docutils literal notranslate"><span class="pre">reformat_json()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.conversion_utils.copy_and_update_file_path"><code class="docutils literal notranslate"><span class="pre">copy_and_update_file_path()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.utils.html#module-cas.utils.validation_utils">cas.utils.validation_utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.validation_utils.validate_markers"><code class="docutils literal notranslate"><span class="pre">validate_markers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cas.utils.html#cas.utils.validation_utils.validate_labelset_markers"><code class="docutils literal notranslate"><span class="pre">validate_labelset_markers()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cas.utils.html#module-cas.utils">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-cas.abc_cas_converter">
<span id="cas-abc-cas-converter-module"></span><h2>cas.abc_cas_converter module<a class="headerlink" href="#module-cas.abc_cas_converter" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.abc_cas_converter.validate_dataframe_columns">
<span class="sig-prename descclassname"><span class="pre">cas.abc_cas_converter.</span></span><span class="sig-name descname"><span class="pre">validate_dataframe_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_columns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/abc_cas_converter.html#validate_dataframe_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.abc_cas_converter.validate_dataframe_columns" title="Link to this definition"></a></dt>
<dd><p>Validates a DataFrame for the required columns.
:type df: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span>
:param df: DataFrame to validate.
:type df: pandas.DataFrame
:type required_columns: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></span>
:param required_columns: List of required column names.
:type required_columns: list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>DataFrame</em>)</p></li>
<li><p><strong>required_columns</strong> (<em>list</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.abc_cas_converter.generate_catset_dataframe">
<span class="sig-prename descclassname"><span class="pre">cas.abc_cas_converter.</span></span><span class="sig-name descname"><span class="pre">generate_catset_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/abc_cas_converter.html#generate_catset_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.abc_cas_converter.generate_catset_dataframe" title="Link to this definition"></a></dt>
<dd><p>Generate a DataFrame representing the Cluster Annotation Term Set (cat_set)
from the given Cell Annotation Schema (CAS) dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cas</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – The Cell Annotation Schema (CAS) dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing the Cluster Annotation Term Set (cat_set).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.abc_cas_converter.generate_cat_dataframe">
<span class="sig-prename descclassname"><span class="pre">cas.abc_cas_converter.</span></span><span class="sig-name descname"><span class="pre">generate_cat_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/abc_cas_converter.html#generate_cat_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.abc_cas_converter.generate_cat_dataframe" title="Link to this definition"></a></dt>
<dd><p>Generate a DataFrame representing the Cluster Annotation Term (cat) from the given Cell Annotation Schema (CAS)
dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cas</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – The Cell Annotation Schema (CAS) dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame representing the Cluster Annotation Term (cat).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.abc_cas_converter.calculate_order_mapping">
<span class="sig-prename descclassname"><span class="pre">cas.abc_cas_converter.</span></span><span class="sig-name descname"><span class="pre">calculate_order_mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order_values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/abc_cas_converter.html#calculate_order_mapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.abc_cas_converter.calculate_order_mapping" title="Link to this definition"></a></dt>
<dd><p>Calculate a mapping dictionary based on the order values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>order_values</strong> (<em>pandas.Series</em>) – Series containing the order values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Mapping dictionary where keys are order values and values are rank values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.abc_cas_converter.abc2cas">
<span class="sig-prename descclassname"><span class="pre">cas.abc_cas_converter.</span></span><span class="sig-name descname"><span class="pre">abc2cas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cat_set_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/abc_cas_converter.html#abc2cas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.abc_cas_converter.abc2cas" title="Link to this definition"></a></dt>
<dd><p>Converts given ABC files to a Cell Annotation Schema (CAS) JSON and writes it to a file with output_file_path name.
:type cat_set_file_path: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>
:param cat_set_file_path: Path to the Cluster Annotation Term Set file.
:type cat_file_path: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>
:param cat_file_path: Path to the Cluster Annotation Term file.
:type output_file_path: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>
:param output_file_path: Output CAS file name (default: output.json).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cat_set_file_path</strong> (<em>str</em>)</p></li>
<li><p><strong>cat_file_path</strong> (<em>str</em>)</p></li>
<li><p><strong>output_file_path</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.abc_cas_converter.add_annotations">
<span class="sig-prename descclassname"><span class="pre">cas.abc_cas_converter.</span></span><span class="sig-name descname"><span class="pre">add_annotations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/abc_cas_converter.html#add_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.abc_cas_converter.add_annotations" title="Link to this definition"></a></dt>
<dd><p>Adds annotations to the Cell Annotation Schema (CAS) based on the data from the Cluster Annotation Term DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionary representing the Cell Annotation Schema.</p></li>
<li><p><strong>cat</strong> (<em>pd.DataFrame</em>) – DataFrame containing Cluster Annotation Term data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.abc_cas_converter.add_labelsets">
<span class="sig-prename descclassname"><span class="pre">cas.abc_cas_converter.</span></span><span class="sig-name descname"><span class="pre">add_labelsets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_set</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/abc_cas_converter.html#add_labelsets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.abc_cas_converter.add_labelsets" title="Link to this definition"></a></dt>
<dd><p>Adds labelsets to the Cell Annotation Schema (CAS) based on the data from the Cluster Annotation Term Set DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Cell Annotation Schema dictionary.</p></li>
<li><p><strong>cat_set</strong> (<em>pandas.DataFrame</em>) – DataFrame containing Cluster Annotation Term Set data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.abc_cas_converter.init_metadata">
<span class="sig-prename descclassname"><span class="pre">cas.abc_cas_converter.</span></span><span class="sig-name descname"><span class="pre">init_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/abc_cas_converter.html#init_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.abc_cas_converter.init_metadata" title="Link to this definition"></a></dt>
<dd><p>Initializes metadata for Cell Annotation Schema (CAS).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Metadata dictionary containing default values for various fields.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.abc_cas_converter.cas2abc">
<span class="sig-prename descclassname"><span class="pre">cas.abc_cas_converter.</span></span><span class="sig-name descname"><span class="pre">cas2abc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_set_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/abc_cas_converter.html#cas2abc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.abc_cas_converter.cas2abc" title="Link to this definition"></a></dt>
<dd><p>Converts given Cell Annotation Schema (CAS) to ABC files: cluster_annotation_term and
cluster_annotation_term_set, and writes them to files with cat_file_path and cat_set_file_path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Path to the Cell Annotation Schema (CAS) file</p></li>
<li><p><strong>cat_set_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Path to the Cluster Annotation Term Set file.</p></li>
<li><p><strong>cat_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Path to the Cluster Annotation Term file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.add_author_annotations">
<span id="cas-add-author-annotations-module"></span><h2>cas.add_author_annotations module<a class="headerlink" href="#module-cas.add_author_annotations" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.add_author_annotations.add_author_annotations">
<span class="sig-prename descclassname"><span class="pre">cas.add_author_annotations.</span></span><span class="sig-name descname"><span class="pre">add_author_annotations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/add_author_annotations.html#add_author_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.add_author_annotations.add_author_annotations" title="Link to this definition"></a></dt>
<dd><p>Updates the provided CAS dictionary with author annotation fields from a DataFrame.
Annotations are based on the values matched between the DataFrame’s specified join columns and the CAS records.
All columns or specified columns are added as annotations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]</span>) – The CAS dictionary loaded from a JSON file.</p></li>
<li><p><strong>df</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span>) – DataFrame containing the data to join with the CAS.</p></li>
<li><p><strong>join_column</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – The column(s) in the DataFrame used for matching CAS records; can be a single column or a list of columns.</p></li>
<li><p><strong>columns</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – Optional list of columns whose data will be added as annotations. If None, all DataFrame columns are used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The CAS dictionary updated with new annotation fields.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.add_author_annotations.add_author_annotations_from_file">
<span class="sig-prename descclassname"><span class="pre">cas.add_author_annotations.</span></span><span class="sig-name descname"><span class="pre">add_author_annotations_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas_json</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'output.json'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/add_author_annotations.html#add_author_annotations_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.add_author_annotations.add_author_annotations_from_file" title="Link to this definition"></a></dt>
<dd><p>Reads data from a CSV file and a CAS JSON file, then updates the CAS JSON with author annotation fields,
and outputs the updated CAS JSON to a specified file. It uses specified columns or all columns if none are
specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas_json</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Path to the CAS JSON file.</p></li>
<li><p><strong>csv_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Path to the CSV file.</p></li>
<li><p><strong>join_column</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – Column name or names used for matching CAS records.</p></li>
<li><p><strong>columns</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – Optional columns to be added as annotations; if None, all columns are used.</p></li>
<li><p><strong>output_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Output CAS file name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated CAS JSON dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.add_author_annotations.validate_columns">
<span class="sig-prename descclassname"><span class="pre">cas.add_author_annotations.</span></span><span class="sig-name descname"><span class="pre">validate_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/add_author_annotations.html#validate_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.add_author_annotations.validate_columns" title="Link to this definition"></a></dt>
<dd><p>Validates the existence of key columns and optionally other specified columns in a DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span>) – DataFrame to check.</p></li>
<li><p><strong>join_column</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – Column or columns that must exist in the DataFrame.</p></li>
<li><p><strong>columns</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – Additional column names that must exist if specified; checks only join_column if None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any specified columns, including the join column(s), are not found in the DataFrame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.add_author_annotations.validate_values">
<span class="sig-prename descclassname"><span class="pre">cas.add_author_annotations.</span></span><span class="sig-name descname"><span class="pre">validate_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/add_author_annotations.html#validate_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.add_author_annotations.validate_values" title="Link to this definition"></a></dt>
<dd><p>Validates that all keys generated from specified DataFrame columns exist within the CAS annotations.
If there are any keys in the DataFrame that are not found in the CAS annotations, it raises an exception
indicating these are extra, undesired keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame containing the data to validate.</p></li>
<li><p><strong>join_column</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – Column or list of columns in the DataFrame used to form the keys.
If a list of two strings is provided, these columns are concatenated to form the keys.</p></li>
<li><p><strong>cas</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionary containing CAS annotations, each annotation expected to contain the keys.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If there are extra keys in the DataFrame that do not exist in the CAS annotations.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.add_author_annotations.dataframe_to_dict">
<span class="sig-prename descclassname"><span class="pre">cas.add_author_annotations.</span></span><span class="sig-name descname"><span class="pre">dataframe_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/add_author_annotations.html#dataframe_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.add_author_annotations.dataframe_to_dict" title="Link to this definition"></a></dt>
<dd><p>Converts specified columns of a DataFrame into a dictionary. If columns are not specified, the entire DataFrame
for rows matching the condition is converted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span>) – DataFrame to extract data from.</p></li>
<li><p><strong>join_column</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – The column or columns used to filter the DataFrame based on cell_label.</p></li>
<li><p><strong>labelset</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Labelset of a CAS annotation.</p></li>
<li><p><strong>filter_value</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The value in join_column used to filter rows.</p></li>
<li><p><strong>columns</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – List of column names to convert to dictionary. If None, all columns are used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary with column names as keys and single values or lists of values as values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.anndata_conversion">
<span id="cas-anndata-conversion-module"></span><h2>cas.anndata_conversion module<a class="headerlink" href="#module-cas.anndata_conversion" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_conversion.merge">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_conversion.</span></span><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anndata_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_conversion.html#merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_conversion.merge" title="Link to this definition"></a></dt>
<dd><p>Tests if CAS json and AnnData are compatible and merges CAS into AnnData if possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The path to the CAS json file.</p></li>
<li><p><strong>anndata_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The path to the AnnData file.</p></li>
<li><p><strong>validate</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Boolean to determine if validation checks will be performed before writing to the output AnnData file.</p></li>
<li><p><strong>output_file_name</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Output AnnData file name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_conversion.merge_cas_object">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_conversion.</span></span><span class="sig-name descname"><span class="pre">merge_cas_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_json</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anndata_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_conversion.html#merge_cas_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_conversion.merge_cas_object" title="Link to this definition"></a></dt>
<dd><p>Tests if CAS json and AnnData are compatible and merges CAS into AnnData if possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_json</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>) – The CAS json object.</p></li>
<li><p><strong>anndata_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The path to the AnnData file.</p></li>
<li><p><strong>validate</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Boolean to determine if validation checks will be performed before writing to the output AnnData file.</p></li>
<li><p><strong>output_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Output AnnData file name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_conversion.test_compatibility">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_conversion.</span></span><span class="sig-name descname"><span class="pre">test_compatibility</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">anndata_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_json</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_conversion.html#test_compatibility"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_conversion.test_compatibility" title="Link to this definition"></a></dt>
<dd><p>Tests if CAS and AnnData can be merged.</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>anndata_obs: The AnnData obs object.
input_json: The CAS data json object.
validate: Boolean to determine if validation checks will be performed before writing to the output AnnData file.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_conversion.check_labelsets">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_conversion.</span></span><span class="sig-name descname"><span class="pre">check_labelsets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas_json</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matching_obs_keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_conversion.html#check_labelsets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_conversion.check_labelsets" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_conversion.get_matching_obs_keys">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_conversion.</span></span><span class="sig-name descname"><span class="pre">get_matching_obs_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obs_keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cas_labelsets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_conversion.html#get_matching_obs_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_conversion.get_matching_obs_keys" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_conversion.handle_matching_labelset">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_conversion.</span></span><span class="sig-name descname"><span class="pre">handle_matching_labelset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ann</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_conversion.html#handle_matching_labelset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_conversion.handle_matching_labelset" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_conversion.handle_non_matching_labelset">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_conversion.</span></span><span class="sig-name descname"><span class="pre">handle_non_matching_labelset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ann</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">derived_cell_ids</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_conversion.html#handle_non_matching_labelset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_conversion.handle_non_matching_labelset" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_conversion.validate_cell_ids">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_conversion.</span></span><span class="sig-name descname"><span class="pre">validate_cell_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">anndata_cell_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_conversion.html#validate_cell_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_conversion.validate_cell_ids" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_conversion.get_derived_cell_ids">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_conversion.</span></span><span class="sig-name descname"><span class="pre">get_derived_cell_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_conversion.html#get_derived_cell_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_conversion.get_derived_cell_ids" title="Link to this definition"></a></dt>
<dd><p>Using the cluster hierarchy derives cell ids for all nodes.
:type cas: 
:param cas: cas json object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary of cell_set_accession - set of derived cell ids</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.anndata_splitter">
<span id="cas-anndata-splitter-module"></span><h2>cas.anndata_splitter module<a class="headerlink" href="#module-cas.anndata_splitter" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_splitter.split_anndata_to_file">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_splitter.</span></span><span class="sig-name descname"><span class="pre">split_anndata_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">anndata_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cas_json_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiple_outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_splitter.html#split_anndata_to_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_splitter.split_anndata_to_file" title="Link to this definition"></a></dt>
<dd><p>Splits an AnnData file into multiple files based on provided CAS JSON files and writes them to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>anndata_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Path to the AnnData file.</p></li>
<li><p><strong>cas_json_paths</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – List of CAS JSON file paths.</p></li>
<li><p><strong>multiple_outputs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – If True, outputs multiple files, one for each CAS JSON file; otherwise, outputs a single file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_splitter.split_anndata">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_splitter.</span></span><span class="sig-name descname"><span class="pre">split_anndata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiple_outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_splitter.html#split_anndata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_splitter.split_anndata" title="Link to this definition"></a></dt>
<dd><p>Splits an AnnData object into multiple or single AnnData objects based on the provided CAS data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">AnnData</span></code></span>) – AnnData object.</p></li>
<li><p><strong>cas</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]]</span>) – Dictionary representing the CAS data.</p></li>
<li><p><strong>multiple_outputs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Determines if the output should be multiple AnnData objects or a single one.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">AnnData</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of AnnData objects if multiple_outputs is True, otherwise a single AnnData object.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any required terms do not exist in the CAS data under ‘parent_cell_set_name’.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.anndata_to_cas">
<span id="cas-anndata-to-cas-module"></span><h2>cas.anndata_to_cas module<a class="headerlink" href="#module-cas.anndata_to_cas" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_to_cas.anndata2cas">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_to_cas.</span></span><span class="sig-name descname"><span class="pre">anndata2cas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">anndata_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_hierarchy</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_to_cas.html#anndata2cas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_to_cas.anndata2cas" title="Link to this definition"></a></dt>
<dd><p>Convert an AnnData file to Cell Annotation Schema (CAS) JSON.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>anndata_file_path</strong> (<em>str</em>) – Path to the AnnData file.</p></li>
<li><p><strong>labelsets</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of labelsets, which are names of observation (obs) fields used to record author</p></li>
<li><p><strong>order</strong> (<em>cell type names. The labelsets should be provided in</em>)</p></li>
<li><p><strong>0</strong> (<em>starting from rank</em>)</p></li>
<li><p><strong>ranks.</strong> (<em>to higher</em>)</p></li>
<li><p><strong>output_file_path</strong> (<em>str</em>) – Output CAS file name.</p></li>
<li><p><strong>include_hierarchy</strong> (<em>bool</em>) – Flag indicating whether to include hierarchy in the output.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_to_cas.generate_cas_metadata">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_to_cas.</span></span><span class="sig-name descname"><span class="pre">generate_cas_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_to_cas.html#generate_cas_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_to_cas.generate_cas_metadata" title="Link to this definition"></a></dt>
<dd><p>Generates CAS metadata based on the provided ‘uns’ dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>uns</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – The ‘uns’ dictionary containing metadata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The generated CAS metadata dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.anndata_to_cas.add_annotations_to_cas">
<span class="sig-prename descclassname"><span class="pre">cas.anndata_to_cas.</span></span><span class="sig-name descname"><span class="pre">add_annotations_to_cas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelset_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_cell_look_up</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/anndata_to_cas.html#add_annotations_to_cas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.anndata_to_cas.add_annotations_to_cas" title="Link to this definition"></a></dt>
<dd><p>Generates CAS annotations based on the provided AnnData object and updates the CAS
dictionary with new annotations. This function can optionally use a precomputed
parent cell lookup dictionary to enrich the annotations with hierarchical information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – The CAS dictionary to be updated with annotations. Expected to have a key
‘annotations’ where new annotations will be appended.</p></li>
<li><p><strong>labelset_dict</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – A dictionary defining labelsets and their members. This is used to match cell
labels with their respective metadata and annotations.</p></li>
<li><p><strong>parent_cell_look_up</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – A precomputed dictionary containing hierarchical metadata about cell
labels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The function directly updates the <cite>cas</cite> dictionary with new annotations. The <cite>parent_cell_look_up</cite> is
used for enrichment and must be generated beforehand if hierarchical information is to be included.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.cas_splitter">
<span id="cas-cas-splitter-module"></span><h2>cas.cas_splitter module<a class="headerlink" href="#module-cas.cas_splitter" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.cas_splitter.split_cas_to_file">
<span class="sig-prename descclassname"><span class="pre">cas.cas_splitter.</span></span><span class="sig-name descname"><span class="pre">split_cas_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas_json_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_terms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiple_outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/cas_splitter.html#split_cas_to_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.cas_splitter.split_cas_to_file" title="Link to this definition"></a></dt>
<dd><p>Splits a CAS JSON file into files based on provided terms, and writes them to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas_json_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Path to the CAS JSON file.</p></li>
<li><p><strong>split_terms</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – Terms used to determine how to split the CAS file; can be a string or a list of strings.</p></li>
<li><p><strong>multiple_outputs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – If True, outputs multiple files, one for each split term; otherwise, outputs a single file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.cas_splitter.split_cas">
<span class="sig-prename descclassname"><span class="pre">cas.cas_splitter.</span></span><span class="sig-name descname"><span class="pre">split_cas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_terms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multiple_outputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/cas_splitter.html#split_cas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.cas_splitter.split_cas" title="Link to this definition"></a></dt>
<dd><p>Splits a CAS dictionary into multiple or single dictionary based on split terms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]</span>) – Dictionary representing the CAS data.</p></li>
<li><p><strong>split_terms</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – Terms used to filter and split the CAS data; can be a string or a list of strings.</p></li>
<li><p><strong>multiple_outputs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Determines if the output should be multiple dictionaries or a single dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]], <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of dictionaries if multiple_outputs is True, otherwise a single dictionary.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any split_terms do not exist in the CAS data under ‘parent_cell_set_name’.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.cas_splitter.filter_and_copy_cas_entries">
<span class="sig-prename descclassname"><span class="pre">cas.cas_splitter.</span></span><span class="sig-name descname"><span class="pre">filter_and_copy_cas_entries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_to_copy_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/cas_splitter.html#filter_and_copy_cas_entries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.cas_splitter.filter_and_copy_cas_entries" title="Link to this definition"></a></dt>
<dd><p>Copies entries from the CAS based on a list of labels to copy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]</span>) – Dictionary representing the original CAS data.</p></li>
<li><p><strong>label_to_copy_list</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – List of labels indicating which entries to copy.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary with filtered CAS entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.cas_splitter.get_split_terms">
<span class="sig-prename descclassname"><span class="pre">cas.cas_splitter.</span></span><span class="sig-name descname"><span class="pre">get_split_terms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_terms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/cas_splitter.html#get_split_terms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.cas_splitter.get_split_terms" title="Link to this definition"></a></dt>
<dd><p>Resolves split terms into a comprehensive list of terms based on a parent-child relationship dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent_dict</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – Dictionary mapping parent terms to lists of child terms.</p></li>
<li><p><strong>split_terms</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – Initial terms to resolve, can be a string or a list of strings.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of all terms, resolved from the parent_dict.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.cas_to_rdf">
<span id="cas-cas-to-rdf-module"></span><h2>cas.cas_to_rdf module<a class="headerlink" href="#module-cas.cas_to_rdf" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.cas_to_rdf.export_to_rdf">
<span class="sig-prename descclassname"><span class="pre">cas.cas_to_rdf.</span></span><span class="sig-name descname"><span class="pre">export_to_rdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas_schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ontology_namespace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ontology_iri</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/cas_to_rdf.html#export_to_rdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.cas_to_rdf.export_to_rdf" title="Link to this definition"></a></dt>
<dd><p>Generates and returns an RDF graph from the provided data and CAS schema, with an option to write the RDF graph to a file.
:type cas_schema: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>
:param cas_schema: Name of the CAS release (such as <cite>base</cite>, <cite>cap</cite>, <cite>bican</cite>), path to the CAS schema file, or CAS schema JSON object.</p>
<blockquote>
<div><p>If not provided, reads the <cite>base</cite> CAS schema from the CAS module.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>dict</em><em>]</em>) – The data JSON file path or JSON object dictionary.</p></li>
<li><p><strong>ontology_namespace</strong> (<em>str</em>) – Ontology namespace (e.g., <cite>MTG</cite>).</p></li>
<li><p><strong>ontology_iri</strong> (<em>str</em>) – Ontology IRI (e.g., <cite>https://purl.brain-bican.org/ontology/AIT_MTG/</cite>).</p></li>
<li><p><strong>labelsets</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – Labelsets used in the taxonomy, such as <cite>[“Cluster”, “Subclass”, “Class”]</cite>.</p></li>
<li><p><strong>output_path</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Path to the output RDF file, if specified.</p></li>
<li><p><strong>validate</strong> (<em>bool</em>) – Determines if data-schema validation checks will be performed. True by default.</p></li>
<li><p><strong>include_cells</strong> (<em>bool</em>) – Determines if cell data will be included in the RDF output. True by default.</p></li>
<li><p><strong>cas_schema</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><em>dict</em><em>]</em><em>]</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An RDFlib graph object.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.cxg_utils">
<span id="cas-cxg-utils-module"></span><h2>cas.cxg_utils module<a class="headerlink" href="#module-cas.cxg_utils" title="Link to this heading"></a></h2>
<p>cxg_utils.py</p>
<p>This module provides utility functions for working with AnnData datasets in the context of the CellxGene Census library.</p>
<dl class="py function">
<dt class="sig sig-object py" id="cas.cxg_utils.download_dataset_with_id">
<span class="sig-prename descclassname"><span class="pre">cas.cxg_utils.</span></span><span class="sig-name descname"><span class="pre">download_dataset_with_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/cxg_utils.html#download_dataset_with_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.cxg_utils.download_dataset_with_id" title="Link to this definition"></a></dt>
<dd><p>Download an AnnData dataset with the specified ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_id</strong> (<em>str</em>) – The ID of the dataset to download.</p></li>
<li><p><strong>file_path</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – The file path to save the downloaded AnnData. If not provided,
the dataset will be saved in the current working directory with the dataset_id as the file name.
Supports both absolute and relative paths.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The path to the downloaded AnnData dataset</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.file_utils">
<span id="cas-file-utils-module"></span><h2>cas.file_utils module<a class="headerlink" href="#module-cas.file_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.read_json_file">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">read_json_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#read_json_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.read_json_file" title="Link to this definition"></a></dt>
<dd><p>Reads and parses a JSON file into a Python dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>) – The path to the JSON file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The JSON data as a Python dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p>Returns None if the file does not exist or if there is an issue
parsing the JSON content.</p>
<p class="rubric">Example</p>
<p>json_data = read_json_file(‘path/to/your/file.json’)
if json_data is not None:</p>
<blockquote>
<div><p># Use the parsed JSON data as a dictionary
print(json_data)</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.read_cas_json_file">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">read_cas_json_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#read_cas_json_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.read_cas_json_file" title="Link to this definition"></a></dt>
<dd><p>Reads and parses a JSON file into a CAS object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>) – The path to the JSON file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The JSON data as a CAS object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.read_cas_from_anndata">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">read_cas_from_anndata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">anndata_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#read_cas_from_anndata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.read_cas_from_anndata" title="Link to this definition"></a></dt>
<dd><p>Reads the CAS json from the anndata uns and parses into a CAS object.
:type anndata_path: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>
:param anndata_path: The path to the Anndata file.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#cas.model.CellTypeAnnotation" title="cas.model.CellTypeAnnotation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CellTypeAnnotation</span></code></a></span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>CellTypeAnnotation object.</p>
</dd>
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>anndata_path</strong> (<em>str</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.write_json_file">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">write_json_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_undefined</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#write_json_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.write_json_file" title="Link to this definition"></a></dt>
<dd><p>Writes cell type annotation object to a json file.
:type cas: <span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#cas.model.CellTypeAnnotation" title="cas.model.CellTypeAnnotation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CellTypeAnnotation</span></code></a></span>
:param cas: cell type annotation object to serialize.
:type out_file: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>
:param out_file: output file path.
:type print_undefined: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>
:param print_undefined: prints null values to the output json if true. Omits undefined values from the json output if</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas</strong> (<a class="reference internal" href="#cas.model.CellTypeAnnotation" title="cas.model.CellTypeAnnotation"><em>CellTypeAnnotation</em></a>)</p></li>
<li><p><strong>out_file</strong> (<em>str</em>)</p></li>
<li><p><strong>print_undefined</strong> (<em>bool</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.write_dict_to_json_file">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">write_dict_to_json_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dictionary</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#write_dict_to_json_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.write_dict_to_json_file" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_file_path</strong> (<em>str</em>)</p></li>
<li><p><strong>dictionary</strong> (<em>dict</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.read_anndata_file">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">read_anndata_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#read_anndata_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.read_anndata_file" title="Link to this definition"></a></dt>
<dd><p>Load anndata object from a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The path to the file containing the anndata object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">AnnData</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The loaded anndata object if successful, else None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.read_table_to_dict">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">read_table_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generated_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#read_table_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.read_table_to_dict" title="Link to this definition"></a></dt>
<dd><p>Reads table file content into a dict. Key is the first column value and the value is dict representation of the
:type table_path: 
:param table_path: Path of the table file
:type id_column: 
:param id_column: Id column becomes the key of the dict. This column should be unique. Default value is first column.
:type generated_ids: 
:param generated_ids: If ‘True’, uses row number as the key of the dict. Initial key is 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>first; headers of the table and second; the TSV content dict. Key of the
content is the first column value and the values are dict of row values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Function provides two return values</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.read_tsv_to_dict">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">read_tsv_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tsv_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generated_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#read_tsv_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.read_tsv_to_dict" title="Link to this definition"></a></dt>
<dd><p>Reads tsv file content into a dict. Key is the first column value and the value is dict representation of the
row values (each header is a key and column value is the value).
:type tsv_path: 
:param tsv_path: Path of the TSV file
:type id_column: 
:param id_column: Id column becomes the key of the dict. This column should be unique. Default value is first column.
:type generated_ids: 
:param generated_ids: If ‘True’, uses row number as the key of the dict. Initial key is 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>first; headers of the table and second; the TSV content dict. Key of the
content is the first column value and the values are dict of row values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Function provides two return values</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.read_csv_to_dict">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">read_csv_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delimiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">','</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_to_lower</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generated_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#read_csv_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.read_csv_to_dict" title="Link to this definition"></a></dt>
<dd><p>Reads tsv file content into a dict. Key is the first column value and the value is dict representation of the
row values (each header is a key and column value is the value).
:type csv_path: 
:param csv_path: Path of the CSV file
:type id_column: 
:param id_column: Id column becomes the keys of the dict. This column should be unique. Default is the first column.
:type id_column_name: 
:param id_column_name: Alternative to the numeric id_column, id_column_name specifies id_column by its header string.
:type delimiter: 
:param delimiter: Value delimiter. Default is comma.
:type id_to_lower: 
:param id_to_lower: applies string lowercase operation to the key
:type generated_ids: 
:param generated_ids: If ‘True’, uses row number as the key of the dict. Initial key is 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>first; headers of the table and second; the CSV content dict. Key of the
content is the first column value and the values are dict of row values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Function provides two return values</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.read_json_config">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">read_json_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#read_json_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.read_json_config" title="Link to this definition"></a></dt>
<dd><p>Reads the configuration object from the given path.
:type file_path: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>
:param file_path: path to the json file
:rtype: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>
:return: configuration object (List of data column config items)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.read_yaml_config">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">read_yaml_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#read_yaml_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.read_yaml_config" title="Link to this definition"></a></dt>
<dd><p>Reads the configuration object from the given path.
:type file_path: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>
:param file_path: path to the yaml file
:rtype: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>
:return: configuration object (List of data column config items)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.read_config">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">read_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#read_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.read_config" title="Link to this definition"></a></dt>
<dd><p>Reads the configuration object from the given path.
:type file_path: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>
:param file_path: path to the configuration file
:rtype: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>
:return: configuration object (List of data column config items)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.update_obs">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">update_obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#update_obs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.update_obs" title="Link to this definition"></a></dt>
<dd><p>Updates the obs with data dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obs</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">CapAnnDataDF</span></code></span>) – Dataset representing the obs field in the AnnData file.</p></li>
<li><p><strong>data</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>) – Dictionary containing flattened data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.update_uns">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">update_uns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#update_uns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.update_uns" title="Link to this definition"></a></dt>
<dd><p>Updates the uns with data dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uns</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">CapAnnDataDF</span></code></span>) – The HDF5 group to write data to.</p></li>
<li><p><strong>data</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>) – Dictionary containing the data to be written.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.get_cas_schema_names">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">get_cas_schema_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#get_cas_schema_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.get_cas_schema_names" title="Link to this definition"></a></dt>
<dd><p>Returns the list of available CAS schema names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The available CAS schema names.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.file_utils.get_cas_schema">
<span class="sig-prename descclassname"><span class="pre">cas.file_utils.</span></span><span class="sig-name descname"><span class="pre">get_cas_schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'base'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/file_utils.html#get_cas_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.file_utils.get_cas_schema" title="Link to this definition"></a></dt>
<dd><p>Reads the schema file from the CAS module and returns as a dictionary.
:type schema_name: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>
:param schema_name: The name of the schema to be returned. Default is ‘base’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The schema as a dictionary.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>schema_name</strong> (<em>str</em><em> | </em><em>None</em>)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.flatten_data_to_anndata">
<span id="cas-flatten-data-to-anndata-module"></span><h2>cas.flatten_data_to_anndata module<a class="headerlink" href="#module-cas.flatten_data_to_anndata" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_anndata.is_list_of_strings">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_anndata.</span></span><span class="sig-name descname"><span class="pre">is_list_of_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_anndata.html#is_list_of_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_anndata.is_list_of_strings" title="Link to this definition"></a></dt>
<dd><p>Check if a value is a list of strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>var</strong> (<em>list</em><em> or </em><em>any</em>) – The value to be checked.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>True if the value is a list containing only string elements,</dt><dd><p>False otherwise.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_anndata.flatten">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_anndata.</span></span><span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anndata_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_na</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_anndata.html#flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_anndata.flatten" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Processes and integrates information from a JSON file and an AnnData (Annotated Data) file, creating a new AnnData
object that incorporates the metadata. The resulting AnnData object is then saved to a new file.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json_file_path</strong> – The path to the CAS json file.</p></li>
<li><p><strong>anndata_file_path</strong> – The path to the AnnData file.</p></li>
<li><p><strong>output_file_path</strong> – Output AnnData file name.</p></li>
<li><p><strong>fill_na</strong> – Boolean flag indicating whether to fill missing values in the ‘obs’ field with pd.NA. If True, missing
values will be replaced with pd.NA; if False, they will remain as empty strings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_anndata.flatten_cas_object">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_anndata.</span></span><span class="sig-name descname"><span class="pre">flatten_cas_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_json</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anndata_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_na</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_anndata.html#flatten_cas_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_anndata.flatten_cas_object" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Processes and integrates information from a JSON file and an AnnData (Annotated Data) file, creating a new AnnData
object that incorporates the metadata. The resulting AnnData object is then saved to a new file.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_json</strong> – CAS json file.</p></li>
<li><p><strong>anndata_file_path</strong> – The path to the AnnData file.</p></li>
<li><p><strong>output_file_path</strong> – Output AnnData file name.</p></li>
<li><p><strong>fill_na</strong> – Boolean flag indicating whether to fill missing values in the ‘obs’ field with pd.NA. If True, missing
values will be replaced with pd.NA; if False, they will remain as empty strings.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_anndata.process_annotations">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_anndata.</span></span><span class="sig-name descname"><span class="pre">process_annotations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_cell_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_na</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_anndata.html#process_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_anndata.process_annotations" title="Link to this definition"></a></dt>
<dd><p>Processes annotations and generates flattened data for obs dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>annotations</strong> (<em>list</em>) – List of annotations.</p></li>
<li><p><strong>obs_index</strong> (<em>np.ndarray</em>) – Array representing the index of the obs dataset.</p></li>
<li><p><strong>parent_cell_ids</strong> (<em>dict</em>) – Dictionary containing parent cell ids.</p></li>
<li><p><strong>fill_na</strong> (<em>bool</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing flattened data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_anndata.generate_uns_json">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_anndata.</span></span><span class="sig-name descname"><span class="pre">generate_uns_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_json</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_anndata.html#generate_uns_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_anndata.generate_uns_json" title="Link to this definition"></a></dt>
<dd><p>Generates a dictionary representing the uns (unstructured) field in an AnnData object from a given JSON input.</p>
<p>This function processes information from a JSON input and generates a dictionary that represents the uns (unstructured)
field in an AnnData object. The resulting dictionary can be used to populate the uns field in the AnnData object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>input_json</strong> (<em>dict</em>) – A dictionary representing the input CAS JSON data containing annotations.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A dictionary representing the uns (unstructured) field in an AnnData object, ready to be used as input</dt><dd><p>for writing to an AnnData file.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_anndata.collect_parent_cell_ids">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_anndata.</span></span><span class="sig-name descname"><span class="pre">collect_parent_cell_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_anndata.html#collect_parent_cell_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_anndata.collect_parent_cell_ids" title="Link to this definition"></a></dt>
<dd><p>Collects parent cell IDs from the given CAS (Cluster Annotation Service) data.</p>
<p>This function iterates through labelsets in the CAS data and collects parent cell IDs
associated with each labelset annotation. It populates and returns a dictionary
mapping parent cell set accessions to sets of corresponding cell IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cas</strong> (<em>dict</em>) – The Cluster Annotation Service data containing labelsets and annotations.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary mapping parent cell set accessions to sets of corresponding cell IDs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_anndata.unflatten">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_anndata.</span></span><span class="sig-name descname"><span class="pre">unflatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anndata_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_json_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_anndata.html#unflatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_anndata.unflatten" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Unflatten an Anndata file and save it. Also creates a CAS json file as output.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – The path to the CAS json file.</p></li>
<li><p><strong>anndata_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The path to the AnnData file.</p></li>
<li><p><strong>output_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Output AnnData file name.</p></li>
<li><p><strong>output_json_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Output CAS JSON file name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_anndata.unflatten_obs">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_anndata.</span></span><span class="sig-name descname"><span class="pre">unflatten_obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obs_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cas_json</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_anndata.html#unflatten_obs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_anndata.unflatten_obs" title="Link to this definition"></a></dt>
<dd><p>Reverse the flattening process to update the “annotations” section in a CAS object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obs_df</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span>) – DataFrame containing the flattened obs columns from an AnnData object.</p></li>
<li><p><strong>cas_json</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]</span>) – CAS JSON object.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Updated CAS JSON with revised annotations.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_anndata.create_cell_label_lookup">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_anndata.</span></span><span class="sig-name descname"><span class="pre">create_cell_label_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_anndata.html#create_cell_label_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_anndata.create_cell_label_lookup" title="Link to this definition"></a></dt>
<dd><p>Create a lookup dictionary for cell labels with corresponding observations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df_dict</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>]</span>) – A dictionary of DataFrames keyed by label sets.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A nested dictionary where keys are cell labels and values are the observations
from the obs field in the AnnData object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_anndata.update_cas_json">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_anndata.</span></span><span class="sig-name descname"><span class="pre">update_cas_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cas_json</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_anndata.html#update_cas_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_anndata.update_cas_json" title="Link to this definition"></a></dt>
<dd><p>Update the annotations in the CAS JSON using the provided lookup dictionary.</p>
<p>This function checks the CAS JSON annotations against a lookup dictionary. It updates
annotations where cell labels or cell hashes match and discards mismatches. It also
adds new annotations from the lookup dictionary that are not in the CAS JSON.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas_dict</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]]</span>) – A lookup dictionary where keys are cell labels or hashes, and
values are dictionaries with annotation data.</p></li>
<li><p><strong>cas_json</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]</span>) – The CAS JSON object containing existing annotations.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The updated CAS JSON with synchronized annotations based on the lookup dictionary.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.flatten_data_to_tables">
<span id="cas-flatten-data-to-tables-module"></span><h2>cas.flatten_data_to_tables module<a class="headerlink" href="#module-cas.flatten_data_to_tables" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_tables.serialize_to_tables">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_tables.</span></span><span class="sig-name descname"><span class="pre">serialize_to_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name_prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_tables.html#serialize_to_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_tables.serialize_to_tables" title="Link to this definition"></a></dt>
<dd><p>Writes cell type annotation object to a series of tsv files.
Tables to generate:</p>
<blockquote>
<div><ul class="simple">
<li><p>Annotation table (main)</p></li>
<li><p>Labelset table</p></li>
<li><p>Metadata</p></li>
<li><p>Annotation transfer</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cta</strong> – cell type annotation object to serialize.</p></li>
<li><p><strong>file_name_prefix</strong> – Name prefix for table names</p></li>
<li><p><strong>out_folder</strong> – output folder path.</p></li>
<li><p><strong>project_config</strong> – project configuration with extra metadata</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_tables.generate_annotation_transfer_table">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_tables.</span></span><span class="sig-name descname"><span class="pre">generate_annotation_transfer_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_tables.html#generate_annotation_transfer_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_tables.generate_annotation_transfer_table" title="Link to this definition"></a></dt>
<dd><p>Generates annotation transfer table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cta</strong> – cell type annotation object to serialize.</p></li>
<li><p><strong>out_folder</strong> – output folder path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_tables.generate_metadata_table">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_tables.</span></span><span class="sig-name descname"><span class="pre">generate_metadata_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_tables.html#generate_metadata_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_tables.generate_metadata_table" title="Link to this definition"></a></dt>
<dd><p>Generates the metadata table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cta</strong> – cell type annotation object to serialize.</p></li>
<li><p><strong>project_config</strong> – metadata coming from project config</p></li>
<li><p><strong>out_folder</strong> – output folder path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_tables.generate_labelset_table">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_tables.</span></span><span class="sig-name descname"><span class="pre">generate_labelset_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_tables.html#generate_labelset_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_tables.generate_labelset_table" title="Link to this definition"></a></dt>
<dd><p>Generates labelset table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cta</strong> – cell type annotation object to serialize.</p></li>
<li><p><strong>out_folder</strong> – output folder path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_tables.generate_annotation_table">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_tables.</span></span><span class="sig-name descname"><span class="pre">generate_annotation_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accession_prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_tables.html#generate_annotation_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_tables.generate_annotation_table" title="Link to this definition"></a></dt>
<dd><p>Generates annotation table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cta</strong> – cell type annotation object to serialize.</p></li>
<li><p><strong>out_folder</strong> – output folder path.</p></li>
<li><p><strong>accession_prefix</strong> – accession id prefix</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_tables.generate_reviews_table">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_tables.</span></span><span class="sig-name descname"><span class="pre">generate_reviews_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_tables.html#generate_reviews_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_tables.generate_reviews_table" title="Link to this definition"></a></dt>
<dd><p>Generates annotation reviews table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cta</strong> – cell type annotation object to serialize.</p></li>
<li><p><strong>out_folder</strong> – output folder path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_tables.list_to_string">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_tables.</span></span><span class="sig-name descname"><span class="pre">list_to_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">my_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_tables.html#list_to_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_tables.list_to_string" title="Link to this definition"></a></dt>
<dd><p>Converts a list to its string representation. Nanobot has problem with single quotations so removes them as well.
:type my_list: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></span>
:param my_list: list to serialize</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string representation of the list</p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>my_list</strong> (<em>list</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_tables.assign_parent_accession_ids">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_tables.</span></span><span class="sig-name descname"><span class="pre">assign_parent_accession_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accession_manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_parent_records</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_parent_records_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelsets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_tables.html#assign_parent_accession_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_tables.assign_parent_accession_ids" title="Link to this definition"></a></dt>
<dd><p>Assigns accession ids to parent clusters and updates their references from the child clusters.
:type accession_manager: 
:param accession_manager: accession ID generator
:type std_parent_records: 
:param std_parent_records: list of all parents to assign accession ids
:type std_parent_records_dict: 
:param std_parent_records_dict: parent cluster - child clusters dictionary
:type labelsets: 
:param labelsets: labelsets list</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_tables.assign_parent_cell_set_names">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_tables.</span></span><span class="sig-name descname"><span class="pre">assign_parent_cell_set_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_tables.html#assign_parent_cell_set_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_tables.assign_parent_cell_set_names" title="Link to this definition"></a></dt>
<dd><p>Assigns parent cell set names to the child cell sets.
:type id_index: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>
:param id_index: dictionary of cell set accessions and their corresponding records</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>id_index</strong> (<em>dict</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.flatten_data_to_tables.normalize_column_name">
<span class="sig-prename descclassname"><span class="pre">cas.flatten_data_to_tables.</span></span><span class="sig-name descname"><span class="pre">normalize_column_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/flatten_data_to_tables.html#normalize_column_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.flatten_data_to_tables.normalize_column_name" title="Link to this definition"></a></dt>
<dd><p>Normalizes column name for url compatibility.
URL compatible column name requirement: All names must match: ^[w_ ]+$’ for to_url()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_name</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – current column name</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>normalized column_name</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.model">
<span id="cas-model-module"></span><h2>cas.model module<a class="headerlink" href="#module-cas.model" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="cas.model.EncoderMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cas.model.</span></span><span class="sig-name descname"><span class="pre">EncoderMixin</span></span><a class="reference internal" href="../_modules/cas/model.html#EncoderMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.EncoderMixin" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">DataClassJsonMixin</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.EncoderMixin.dataclass_json_config">
<span class="sig-name descname"><span class="pre">dataclass_json_config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'exclude':</span> <span class="pre">&lt;function</span> <span class="pre">EncoderMixin.&lt;lambda&gt;&gt;,</span> <span class="pre">'undefined':</span> <span class="pre">Undefined.EXCLUDE}</span></em><a class="headerlink" href="#cas.model.EncoderMixin.dataclass_json_config" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cas.model.AutomatedAnnotation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cas.model.</span></span><span class="sig-name descname"><span class="pre">AutomatedAnnotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">algorithm_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm_version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm_repo_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_location</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/model.html#AutomatedAnnotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.AutomatedAnnotation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cas.model.EncoderMixin" title="cas.model.EncoderMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">EncoderMixin</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>algorithm_name</strong> (<em>str</em>)</p></li>
<li><p><strong>algorithm_version</strong> (<em>str</em>)</p></li>
<li><p><strong>algorithm_repo_url</strong> (<em>str</em>)</p></li>
<li><p><strong>reference_location</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.AutomatedAnnotation.algorithm_name">
<span class="sig-name descname"><span class="pre">algorithm_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></em><a class="headerlink" href="#cas.model.AutomatedAnnotation.algorithm_name" title="Link to this definition"></a></dt>
<dd><p>The name of the algorithm used. It MUST be a string of the algorithm’s name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.AutomatedAnnotation.algorithm_version">
<span class="sig-name descname"><span class="pre">algorithm_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></em><a class="headerlink" href="#cas.model.AutomatedAnnotation.algorithm_version" title="Link to this definition"></a></dt>
<dd><p>The version of the algorithm used (if applicable). It MUST be a string of the algorithm’s version, which is
typically in the format ‘[MAJOR].[MINOR]’, but other versioning systems are permitted (based on the algorithm’s
versioning).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.AutomatedAnnotation.algorithm_repo_url">
<span class="sig-name descname"><span class="pre">algorithm_repo_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></em><a class="headerlink" href="#cas.model.AutomatedAnnotation.algorithm_repo_url" title="Link to this definition"></a></dt>
<dd><p>This field denotes the URL of the version control repository associated with the algorithm used (if applicable).
It MUST be a string of a valid URL.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.AutomatedAnnotation.reference_location">
<span class="sig-name descname"><span class="pre">reference_location</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><a class="headerlink" href="#cas.model.AutomatedAnnotation.reference_location" title="Link to this definition"></a></dt>
<dd><p>This field denotes a valid URL of the annotated dataset that was the source of annotated reference data.
This MUST be a string of a valid URL. The concept of a ‘reference’ specifically refers to ‘annotation transfer’
algorithms, whereby a ‘reference’ dataset is used to transfer cell annotations to the ‘query’ dataset.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cas.model.Labelset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cas.model.</span></span><span class="sig-name descname"><span class="pre">Labelset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">automated_annotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/model.html#Labelset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.Labelset" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cas.model.EncoderMixin" title="cas.model.EncoderMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">EncoderMixin</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>)</p></li>
<li><p><strong>description</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>annotation_method</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>automated_annotation</strong> (<a class="reference internal" href="#cas.model.AutomatedAnnotation" title="cas.model.AutomatedAnnotation"><em>AutomatedAnnotation</em></a><em> | </em><em>None</em>)</p></li>
<li><p><strong>rank</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Labelset.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></em><a class="headerlink" href="#cas.model.Labelset.name" title="Link to this definition"></a></dt>
<dd><p>name of annotation key</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Labelset.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Labelset.description" title="Link to this definition"></a></dt>
<dd><p>Some text describing what types of cell annotation this annotation key is used to record</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Labelset.annotation_method">
<span class="sig-name descname"><span class="pre">annotation_method</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Labelset.annotation_method" title="Link to this definition"></a></dt>
<dd><p><cite>‘algorithmic’</cite>,
<cite>‘manual’</cite>, or <cite>‘both’</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The method used for creating the cell annotations. This MUST be one of the following strings</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Labelset.automated_annotation">
<span class="sig-name descname"><span class="pre">automated_annotation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><a class="reference internal" href="#cas.model.AutomatedAnnotation" title="cas.model.AutomatedAnnotation"><code class="xref py py-class docutils literal notranslate"><span class="pre">AutomatedAnnotation</span></code></a><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Labelset.automated_annotation" title="Link to this definition"></a></dt>
<dd><p>A set of fields for recording the details of the automated annotation algorithm used. (Common ‘automated
annotation methods’ would include PopV, Azimuth, CellTypist, scArches, etc.)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Labelset.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Labelset.rank" title="Link to this definition"></a></dt>
<dd><p>A number indicating relative granularity with 0 being the most specific.  Use this where a single dataset has
multiple keys that are used consistently to record annotations and different levels of granularity.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cas.model.AnnotationTransfer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cas.model.</span></span><span class="sig-name descname"><span class="pre">AnnotationTransfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transferred_cell_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_taxonomy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_node_accession</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/model.html#AnnotationTransfer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.AnnotationTransfer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cas.model.EncoderMixin" title="cas.model.EncoderMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">EncoderMixin</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transferred_cell_label</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>source_taxonomy</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>source_node_accession</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>algorithm_name</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>comment</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.AnnotationTransfer.transferred_cell_label">
<span class="sig-name descname"><span class="pre">transferred_cell_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.AnnotationTransfer.transferred_cell_label" title="Link to this definition"></a></dt>
<dd><p>Transferred cell label</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.AnnotationTransfer.source_taxonomy">
<span class="sig-name descname"><span class="pre">source_taxonomy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.AnnotationTransfer.source_taxonomy" title="Link to this definition"></a></dt>
<dd><p>PURL of source taxonomy.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.AnnotationTransfer.source_node_accession">
<span class="sig-name descname"><span class="pre">source_node_accession</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.AnnotationTransfer.source_node_accession" title="Link to this definition"></a></dt>
<dd><p>accession of node that label was transferred from</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.AnnotationTransfer.algorithm_name">
<span class="sig-name descname"><span class="pre">algorithm_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.AnnotationTransfer.algorithm_name" title="Link to this definition"></a></dt>
<dd><p>The name of the algorithm used.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.AnnotationTransfer.comment">
<span class="sig-name descname"><span class="pre">comment</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.AnnotationTransfer.comment" title="Link to this definition"></a></dt>
<dd><p>Free text comment on annotation transfer</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cas.model.Review">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cas.model.</span></span><span class="sig-name descname"><span class="pre">Review</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reviewer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">review</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">explanation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/model.html#Review"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.Review" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cas.model.EncoderMixin" title="cas.model.EncoderMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">EncoderMixin</span></code></a></p>
<p>Annotation review.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datestamp</strong> (<em>datetime</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>reviewer</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>review</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>explanation</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Review.datestamp">
<span class="sig-name descname"><span class="pre">datestamp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Review.datestamp" title="Link to this definition"></a></dt>
<dd><p>Time and date review was last edited.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Review.reviewer">
<span class="sig-name descname"><span class="pre">reviewer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Review.reviewer" title="Link to this definition"></a></dt>
<dd><p>Review Author.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Review.review">
<span class="sig-name descname"><span class="pre">review</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Review.review" title="Link to this definition"></a></dt>
<dd><p>Reviewer’s verdict on the annotation.  Must be ‘Agree’ or ‘Disagree’.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Review.explanation">
<span class="sig-name descname"><span class="pre">explanation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Review.explanation" title="Link to this definition"></a></dt>
<dd><p>Free-text review of annotation. This is required if the verdict is disagree and should include reasons for disagreement.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cas.model.Annotation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cas.model.</span></span><span class="sig-name descname"><span class="pre">Annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labelset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_set_accession</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_fullname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_ontology_term_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_ontology_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rationale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rationale_dois</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_gene_evidence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synonyms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_cell_set_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_cell_set_accession</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author_annotation_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transferred_annotations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reviews</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/model.html#Annotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.Annotation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cas.model.EncoderMixin" title="cas.model.EncoderMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">EncoderMixin</span></code></a></p>
<p>A collection of fields recording a cell type/class/state annotation on some set os cells, supporting evidence and
provenance. As this is intended as a general schema, compulsory fields are kept to a minimum. However, tools using
this schema are encouarged to specify a larger set of compulsory fields for publication.
Note: This schema deliberately allows for additional fields in order to support ad hoc user fields, new formal
schema extensions and project/tool specific metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labelset</strong> (<em>str</em>)</p></li>
<li><p><strong>cell_label</strong> (<em>str</em>)</p></li>
<li><p><strong>cell_set_accession</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>cell_fullname</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>cell_ontology_term_id</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>cell_ontology_term</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>cell_ids</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>rationale</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>rationale_dois</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>marker_gene_evidence</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>synonyms</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>parent_cell_set_name</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>parent_cell_set_accession</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>author_annotation_fields</strong> (<em>dict</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>transferred_annotations</strong> (<em>List</em><em>[</em><a class="reference internal" href="#cas.model.AnnotationTransfer" title="cas.model.AnnotationTransfer"><em>AnnotationTransfer</em></a><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>reviews</strong> (<em>List</em><em>[</em><a class="reference internal" href="#cas.model.Review" title="cas.model.Review"><em>Review</em></a><em>] </em><em>| </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.labelset">
<span class="sig-name descname"><span class="pre">labelset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></em><a class="headerlink" href="#cas.model.Annotation.labelset" title="Link to this definition"></a></dt>
<dd><p>The unique name of the set of cell annotations.
Each cell within the AnnData/Seurat file MUST be associated with a ‘cell_label’ value in order for this to be a
valid ‘cellannotation_setname’.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.cell_label">
<span class="sig-name descname"><span class="pre">cell_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></em><a class="headerlink" href="#cas.model.Annotation.cell_label" title="Link to this definition"></a></dt>
<dd><p>This denotes any free-text term which the author uses to label cells.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.cell_set_accession">
<span class="sig-name descname"><span class="pre">cell_set_accession</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.cell_set_accession" title="Link to this definition"></a></dt>
<dd><p>An identifier that can be used to consistently refer to the set of cells being annotated, even if the
cell_label changes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.cell_fullname">
<span class="sig-name descname"><span class="pre">cell_fullname</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.cell_fullname" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>This MUST be the full-length name for the biological entity listed in <cite>cell_label</cite> by the author. (If the value</dt><dd><p>in <cite>cell_label</cite> is the full-length term, this field will contain the same value.)</p>
</dd>
<dt>NOTE: any reserved word used in</dt><dd><p>the field ‘cell_label’ MUST match the value of this field.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.cell_ontology_term_id">
<span class="sig-name descname"><span class="pre">cell_ontology_term_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.cell_ontology_term_id" title="Link to this definition"></a></dt>
<dd><p>This MUST be a term from either the Cell Ontology or from some ontology that extends it by classifying cell
types under terms from the Cell Ontology e.g. the Provisional Cell Ontology.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.cell_ontology_term">
<span class="sig-name descname"><span class="pre">cell_ontology_term</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.cell_ontology_term" title="Link to this definition"></a></dt>
<dd><p>This MUST be the human-readable name assigned to the value of ‘cell_ontology_term_id</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.cell_ids">
<span class="sig-name descname"><span class="pre">cell_ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.cell_ids" title="Link to this definition"></a></dt>
<dd><p>List of cell barcode sequences/UUIDs used to uniquely identify the cells</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.rationale">
<span class="sig-name descname"><span class="pre">rationale</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.rationale" title="Link to this definition"></a></dt>
<dd><p>The free-text rationale which users provide as justification/evidence for their cell annotations.
Researchers are encouraged to use this field to cite relevant publications in-line using standard academic
citations of the form <cite>(Zheng et al., 2020)</cite> This human-readable free-text MUST be encoded as a single string.
All references cited SHOULD be listed using DOIs under rationale_dois. There MUST be a 2000-character limit.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.rationale_dois">
<span class="sig-name descname"><span class="pre">rationale_dois</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.rationale_dois" title="Link to this definition"></a></dt>
<dd><p>A list of valid publication DOIs cited by the author to support or provide justification/evidence/context for
‘cell_label’.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.marker_gene_evidence">
<span class="sig-name descname"><span class="pre">marker_gene_evidence</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.marker_gene_evidence" title="Link to this definition"></a></dt>
<dd><p>List of gene names explicitly used as evidence for this cell annotation.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.synonyms">
<span class="sig-name descname"><span class="pre">synonyms</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.synonyms" title="Link to this definition"></a></dt>
<dd><p>This field denotes any free-text term of a biological entity which the author associates as synonymous with the
biological entity listed in the field ‘cell_label’.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.parent_cell_set_name">
<span class="sig-name descname"><span class="pre">parent_cell_set_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.parent_cell_set_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.parent_cell_set_accession">
<span class="sig-name descname"><span class="pre">parent_cell_set_accession</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.parent_cell_set_accession" title="Link to this definition"></a></dt>
<dd><p>A list of accessions of cell sets that subsume this cell set. This can be used to compose hierarchies of
annotated cell sets, built from a fixed set of clusters.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.author_annotation_fields">
<span class="sig-name descname"><span class="pre">author_annotation_fields</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.author_annotation_fields" title="Link to this definition"></a></dt>
<dd><p>“A dictionary of author defined key value pairs annotating the cell set. The names and aims of these fields MUST
not clash with official annotation fields.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.transferred_annotations">
<span class="sig-name descname"><span class="pre">transferred_annotations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code><span class="pre">[</span><a class="reference internal" href="#cas.model.AnnotationTransfer" title="cas.model.AnnotationTransfer"><code class="xref py py-class docutils literal notranslate"><span class="pre">AnnotationTransfer</span></code></a><span class="pre">]]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.transferred_annotations" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.Annotation.reviews">
<span class="sig-name descname"><span class="pre">reviews</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code><span class="pre">[</span><a class="reference internal" href="#cas.model.Review" title="cas.model.Review"><code class="xref py py-class docutils literal notranslate"><span class="pre">Review</span></code></a><span class="pre">]]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.Annotation.reviews" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cas.model.Annotation.add_user_annotation">
<span class="sig-name descname"><span class="pre">add_user_annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_annotation_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_annotation_label</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/model.html#Annotation.add_user_annotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.Annotation.add_user_annotation" title="Link to this definition"></a></dt>
<dd><p>Adds a user defined annotation which is not supported by the standard schema.
:type user_annotation_set: 
:param user_annotation_set: name of the user annotation set
:type user_annotation_label: 
:param user_annotation_label: label of the user annotation set</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cas.model.</span></span><span class="sig-name descname"><span class="pre">CellTypeAnnotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">author_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix_file_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author_contact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orcid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cellannotation_schema_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cellannotation_timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cellannotation_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cellannotation_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/model.html#CellTypeAnnotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.CellTypeAnnotation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cas.model.EncoderMixin" title="cas.model.EncoderMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">EncoderMixin</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>author_name</strong> (<em>str</em>)</p></li>
<li><p><strong>annotations</strong> (<em>List</em><em>[</em><a class="reference internal" href="#cas.model.Annotation" title="cas.model.Annotation"><em>Annotation</em></a><em>]</em>)</p></li>
<li><p><strong>title</strong> (<em>str</em>)</p></li>
<li><p><strong>description</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>matrix_file_id</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>labelsets</strong> (<em>List</em><em>[</em><a class="reference internal" href="#cas.model.Labelset" title="cas.model.Labelset"><em>Labelset</em></a><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>author_contact</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>orcid</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>cellannotation_schema_version</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>cellannotation_timestamp</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>cellannotation_version</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>cellannotation_url</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>author_list</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.author_name">
<span class="sig-name descname"><span class="pre">author_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.author_name" title="Link to this definition"></a></dt>
<dd><p>This MUST be a string in the format <cite>[FIRST NAME] [LAST NAME]</cite></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.annotations">
<span class="sig-name descname"><span class="pre">annotations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code><span class="pre">[</span><a class="reference internal" href="#cas.model.Annotation" title="cas.model.Annotation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotation</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.annotations" title="Link to this definition"></a></dt>
<dd><p>A collection of fields recording a cell type/class/state annotation on some set os cells, supporting evidence
and provenance. As this is intended as a general schema, compulsory fields are kept to a minimum. However, tools
using this schema are encouarged to specify a larger set of compulsory fields for publication.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.title">
<span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.title" title="Link to this definition"></a></dt>
<dd><p>The title of the dataset. This MUST be less than or equal to 200 characters. e.g. ‘Human retina cell atlas -
retinal ganglion cells’.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.description" title="Link to this definition"></a></dt>
<dd><p>The description of the dataset. e.g. ‘A total of 15 retinal ganglion cell clusters were identified from over 99K
retinal ganglion cell nuclei in the current atlas. Utilizing previous characterized markers from macaque, 5 clusters</p>
<blockquote>
<div><p>can be annotated.’</p>
</div></blockquote>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.matrix_file_id">
<span class="sig-name descname"><span class="pre">matrix_file_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.matrix_file_id" title="Link to this definition"></a></dt>
<dd><p>accession, e.g.
CellXGene_dataset:8e10f1c4-8e98-41e5-b65f-8cd89a887122. Please see <a class="reference external" href="https://github.com/cellannotation/cell-annotation">https://github.com/cellannotation/cell-annotation</a>
-schema/registry/registry.json for supported namespaces.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A resolvable ID for a cell by gene matrix file in the form namespace</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.labelsets">
<span class="sig-name descname"><span class="pre">labelsets</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code><span class="pre">[</span><a class="reference internal" href="#cas.model.Labelset" title="cas.model.Labelset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Labelset</span></code></a><span class="pre">]]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.labelsets" title="Link to this definition"></a></dt>
<dd><p>A list of labelsets that are used in the annotations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.author_contact">
<span class="sig-name descname"><span class="pre">author_contact</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.author_contact" title="Link to this definition"></a></dt>
<dd><p>This MUST be a valid email address of the author</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.orcid">
<span class="sig-name descname"><span class="pre">orcid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.orcid" title="Link to this definition"></a></dt>
<dd><p>This MUST be a valid ORCID for the author</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.cellannotation_schema_version">
<span class="sig-name descname"><span class="pre">cellannotation_schema_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.cellannotation_schema_version" title="Link to this definition"></a></dt>
<dd><p>The schema version, the cell annotation open standard. Current version MUST follow 0.1.0
This versioning MUST follow the format <cite>‘[MAJOR].[MINOR].[PATCH]’</cite> as defined by Semantic Versioning 2.0.0,
<a class="reference external" href="https://semver.org/">https://semver.org/</a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.cellannotation_timestamp">
<span class="sig-name descname"><span class="pre">cellannotation_timestamp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.cellannotation_timestamp" title="Link to this definition"></a></dt>
<dd><p>The timestamp of all cell annotations published (per dataset). This MUST be a string in the format
‘%yyyy-%mm-%dd %hh:%mm:%ss’.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.cellannotation_version">
<span class="sig-name descname"><span class="pre">cellannotation_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.cellannotation_version" title="Link to this definition"></a></dt>
<dd><p>The version for all cell annotations published (per dataset). This MUST be a string. The recommended versioning
format is <cite>‘[MAJOR].[MINOR].[PATCH]’</cite> as defined by Semantic Versioning 2.0.0, <a class="reference external" href="https://semver.org/">https://semver.org/</a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.cellannotation_url">
<span class="sig-name descname"><span class="pre">cellannotation_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.cellannotation_url" title="Link to this definition"></a></dt>
<dd><p>A persistent URL of all cell annotations published (per dataset).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.author_list">
<span class="sig-name descname"><span class="pre">author_list</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code><span class="pre">[</span><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code><span class="pre">]]</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cas.model.CellTypeAnnotation.author_list" title="Link to this definition"></a></dt>
<dd><p>This field stores a list of users who are included in the project as collaborators, regardless of their specific
role. An example list; John Smith|Cody Miller|Sarah Jones.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.add_annotation_object">
<span class="sig-name descname"><span class="pre">add_annotation_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/model.html#CellTypeAnnotation.add_annotation_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.CellTypeAnnotation.add_annotation_object" title="Link to this definition"></a></dt>
<dd><p>Adds given object to annotation objects list
:type obj: 
:param obj: Annotation object to add</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.set_exclude_none_values">
<span class="sig-name descname"><span class="pre">set_exclude_none_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/model.html#CellTypeAnnotation.set_exclude_none_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.CellTypeAnnotation.set_exclude_none_values" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cas.model.CellTypeAnnotation.get_all_annotations">
<span class="sig-name descname"><span class="pre">get_all_annotations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_cell_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/model.html#CellTypeAnnotation.get_all_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.model.CellTypeAnnotation.get_all_annotations" title="Link to this definition"></a></dt>
<dd><p>Lists all annotations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_cell_ids</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – identifies if result have ‘cell_ids’ column. Default value is false</p></li>
<li><p><strong>labels</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>]</span>) – list of key(labelset), value(cell_label) pairs to filter annotations</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Annotations data frame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-cas.populate_cell_ids">
<span id="cas-populate-cell-ids-module"></span><h2>cas.populate_cell_ids module<a class="headerlink" href="#module-cas.populate_cell_ids" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.populate_cell_ids.populate_cell_ids">
<span class="sig-prename descclassname"><span class="pre">cas.populate_cell_ids.</span></span><span class="sig-name descname"><span class="pre">populate_cell_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas_json_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anndata_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/populate_cell_ids.html#populate_cell_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.populate_cell_ids.populate_cell_ids" title="Link to this definition"></a></dt>
<dd><p>Add/update CellIDs to CAS from matching AnnData file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas_json_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – path to CAS JSON file</p></li>
<li><p><strong>anndata_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – path to anndata file</p></li>
<li><p><strong>labelsets</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>]</span>) – List of labelsets to update with IDs from AnnData. If value is null, rank ‘0’ labelset is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.populate_cell_ids.add_cell_ids">
<span class="sig-prename descclassname"><span class="pre">cas.populate_cell_ids.</span></span><span class="sig-name descname"><span class="pre">add_cell_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/populate_cell_ids.html#add_cell_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.populate_cell_ids.add_cell_ids" title="Link to this definition"></a></dt>
<dd><p>Add/update CellIDs to CAS from matching AnnData file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>) – CAS JSON object</p></li>
<li><p><strong>ad</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">AnnData</span></code>]</span>) – anndata object</p></li>
<li><p><strong>labelsets</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>]</span>) – List of labelsets to update with IDs from AnnData. If value is null, rank ‘0’ labelset is used. The</p></li>
<li><p><strong>order</strong> (<em>labelsets should be provided in</em>)</p></li>
<li><p><strong>0</strong> (<em>starting from rank</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.populate_cell_ids.get_obs_cluster_identifier_column">
<span class="sig-prename descclassname"><span class="pre">cas.populate_cell_ids.</span></span><span class="sig-name descname"><span class="pre">get_obs_cluster_identifier_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank_zero_labelset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/populate_cell_ids.html#get_obs_cluster_identifier_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.populate_cell_ids.get_obs_cluster_identifier_column" title="Link to this definition"></a></dt>
<dd><p>Anndata files may use different column names to uniquely identify Clusters. Get the cluster identifier column name for the current file.
:type ad: 
:param ad: anndata object
:type labelsets: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>]</span>
:param labelsets: List of labelsets to update with IDs from AnnData. The labelsets should be provided in order,
:param starting from rank 0:
:type starting from rank 0: leaf nodes
:type rank_zero_labelset: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>
:param rank_zero_labelset: rank 0 labelset name</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>cluster identifier column name</p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>labelsets</strong> (<em>list</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>rank_zero_labelset</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.reports">
<span id="cas-reports-module"></span><h2>cas.reports module<a class="headerlink" href="#module-cas.reports" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.reports.get_all_annotations">
<span class="sig-prename descclassname"><span class="pre">cas.reports.</span></span><span class="sig-name descname"><span class="pre">get_all_annotations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_cell_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/reports.html#get_all_annotations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.reports.get_all_annotations" title="Link to this definition"></a></dt>
<dd><p>Lists all annotations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>) – Cell Annotation Schema json object.</p></li>
<li><p><strong>show_cell_ids</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – identifies if result have ‘cell_ids’ column. Default value is false</p></li>
<li><p><strong>labels</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>]</span>) – list of key(labelset), value(cell_label) pairs to filter annotations</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Annotations data frame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.reports.filter_by_label">
<span class="sig-prename descclassname"><span class="pre">cas.reports.</span></span><span class="sig-name descname"><span class="pre">filter_by_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/reports.html#filter_by_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.reports.filter_by_label" title="Link to this definition"></a></dt>
<dd><p>Filters and shows row if it</p>
</dd></dl>

</section>
<section id="module-cas.spreadsheet_to_cas">
<span id="cas-spreadsheet-to-cas-module"></span><h2>cas.spreadsheet_to_cas module<a class="headerlink" href="#module-cas.spreadsheet_to_cas" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.spreadsheet_to_cas.resolve_ref">
<span class="sig-prename descclassname"><span class="pre">cas.spreadsheet_to_cas.</span></span><span class="sig-name descname"><span class="pre">resolve_ref</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/spreadsheet_to_cas.html#resolve_ref"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.spreadsheet_to_cas.resolve_ref" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.spreadsheet_to_cas.read_spreadsheet">
<span class="sig-prename descclassname"><span class="pre">cas.spreadsheet_to_cas.</span></span><span class="sig-name descname"><span class="pre">read_spreadsheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/spreadsheet_to_cas.html#read_spreadsheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.spreadsheet_to_cas.read_spreadsheet" title="Link to this definition"></a></dt>
<dd><p>Read the specific sheet from the Excel file into a pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – Path to the Excel file.</p></li>
<li><p><strong>sheet_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Target sheet name. If not provided, reads the first sheet.</p></li>
<li><p><strong>schema</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>) – Cell annotation schema</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple containing metadata (dict), column names (list), and raw data (pd.DataFrame).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.spreadsheet_to_cas.retrieve_schema">
<span class="sig-prename descclassname"><span class="pre">cas.spreadsheet_to_cas.</span></span><span class="sig-name descname"><span class="pre">retrieve_schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/spreadsheet_to_cas.html#retrieve_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.spreadsheet_to_cas.retrieve_schema" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.spreadsheet_to_cas.custom_lowercase_transform">
<span class="sig-prename descclassname"><span class="pre">cas.spreadsheet_to_cas.</span></span><span class="sig-name descname"><span class="pre">custom_lowercase_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/spreadsheet_to_cas.html#custom_lowercase_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.spreadsheet_to_cas.custom_lowercase_transform" title="Link to this definition"></a></dt>
<dd><p>Transforms the given string to lowercase except for words that are acronyms or specific cell type names
which are three characters or fewer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>s</strong> (<em>str</em>) – The input string.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transformed string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.spreadsheet_to_cas.spreadsheet2cas">
<span class="sig-prename descclassname"><span class="pre">cas.spreadsheet_to_cas.</span></span><span class="sig-name descname"><span class="pre">spreadsheet2cas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sheet_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anndata_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelset_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/spreadsheet_to_cas.html#spreadsheet2cas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.spreadsheet_to_cas.spreadsheet2cas" title="Link to this definition"></a></dt>
<dd><p>Convert a spreadsheet to Cell Annotation Schema (CAS) JSON.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spreadsheet_file_path</strong> (<em>str</em>) – Path to the spreadsheet file.</p></li>
<li><p><strong>sheet_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Target sheet name in the spreadsheet. Can be a string or None.</p></li>
<li><p><strong>anndata_file_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – The path to the AnnData file.</p></li>
<li><p><strong>labelset_list</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – List of names of observation (obs) fields used to record author cell</p></li>
<li><p><strong>names</strong> (<em>type</em>)</p></li>
<li><p><strong>spreadsheet.</strong> (<em>which determine the rank</em><em> of </em><em>labelsets in a</em>)</p></li>
<li><p><strong>schema_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Name of the CAS schema, can be one of ‘base’, ‘bican’ or ‘cap’.</p></li>
<li><p><strong>output_file_path</strong> (<em>str</em>) – Output CAS file name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.spreadsheet_to_cas.add_annotations_to_cas">
<span class="sig-prename descclassname"><span class="pre">cas.spreadsheet_to_cas.</span></span><span class="sig-name descname"><span class="pre">add_annotations_to_cas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_data_result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_cell_look_up</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/spreadsheet_to_cas.html#add_annotations_to_cas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.spreadsheet_to_cas.add_annotations_to_cas" title="Link to this definition"></a></dt>
<dd><p>Adds processed annotations from raw data to the CAS structure and tracks labelsets.
Assumes certain external definitions for column names and transformation functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cas</strong> (<em>dict</em>) – The CAS structure to update with annotations.</p></li>
<li><p><strong>raw_data_result</strong> (<em>DataFrame</em>) – Raw annotation data.</p></li>
<li><p><strong>columns</strong> (<em>list</em>) – Column names of raw data to process.</p></li>
<li><p><strong>schema</strong> (<em>dict</em>) – Cell annotation schema.</p></li>
<li><p><strong>parent_cell_look_up</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – A precomputed dictionary containing hierarchical metadata about cell
labels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tracks labelsets encountered, initialized to None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>OrderedDict</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Requires <cite>custom_lowercase_transform</cite>, <cite>get_cell_ids</cite>, and column constants to be defined.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.spreadsheet_to_cas.initialize_cas_structure">
<span class="sig-prename descclassname"><span class="pre">cas.spreadsheet_to_cas.</span></span><span class="sig-name descname"><span class="pre">initialize_cas_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix_file_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_data_result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/spreadsheet_to_cas.html#initialize_cas_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.spreadsheet_to_cas.initialize_cas_structure" title="Link to this definition"></a></dt>
<dd><p>Initializes the Cell Annotation Schema (CAS) structure with basic information and placeholders
for annotations and labelsets. Fields initialized with None values are omitted in the final output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix_file_id</strong> (<em>str</em>) – The ID of the matrix file, used within the CAS for identification.</p></li>
<li><p><strong>meta_data_result</strong> (<em>dict</em>) – Metadata containing at least the ‘matrix_file_id’ for the CAS URL.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The initial CAS structure with the matrix file ID, annotation URL, and placeholders</dt><dd><p>for future data. Excludes fields that remain None.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cas.spreadsheet_to_cas.load_or_fetch_anndata">
<span class="sig-prename descclassname"><span class="pre">cas.spreadsheet_to_cas.</span></span><span class="sig-name descname"><span class="pre">load_or_fetch_anndata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">anndata_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_data_result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/spreadsheet_to_cas.html#load_or_fetch_anndata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.spreadsheet_to_cas.load_or_fetch_anndata" title="Link to this definition"></a></dt>
<dd><p>Loads or fetches an AnnData file, based on a local path or a matrix file ID from metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>anndata_file_path</strong> (<em>str</em>) – Path to an AnnData file, or None to fetch using metadata.</p></li>
<li><p><strong>meta_data_result</strong> (<em>dict</em>) – Metadata with ‘matrix_file_id’ for fetching the dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(AnnData object, matrix file ID), ready for use.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If ‘matrix_file_id’ is missing from metadata.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas.validate">
<span id="cas-validate-module"></span><h2>cas.validate module<a class="headerlink" href="#module-cas.validate" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cas.validate.validate">
<span class="sig-prename descclassname"><span class="pre">cas.validate.</span></span><span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cas/validate.html#validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cas.validate.validate" title="Link to this definition"></a></dt>
<dd><p>Validates all instances in data_path against the given schema.
Assumes all <a href="#id1"><span class="problematic" id="id2">*</span></a>.json files in the test_dir should validate against the schema.
Logs all validation errors and throws an exception if any of the test files is invalid.
:type schema_name: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>
:param schema_name: One of ‘base’, ‘bican’ or ‘cap’. Identifies the CAS schema to validate data against.
:type data_path: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>
:param data_path: Path to the data file (or folder) to validate</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schema_name</strong> (<em>str</em>)</p></li>
<li><p><strong>data_path</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-cas">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cas" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="cas-tools’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cas.accession.html" class="btn btn-neutral float-right" title="cas.accession package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Huseyin Kir, Ugur Bayindir.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>